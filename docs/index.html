<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neo OS - Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            background: 'hsl(0 0% 3.9%)',
            foreground: 'hsl(0 0% 98%)',
          }
        }
      }
    }
  </script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: hsl(0 0% 3.9%);
      color: hsl(0 0% 98%);
    }
    .glass {
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 8px 2px rgba(34, 197, 94, 0.4); }
      50% { box-shadow: 0 0 16px 4px rgba(34, 197, 94, 0.6); }
    }
    .neo-active { animation: pulse-glow 2s ease-in-out infinite; }
    .swipe-card {
      transition: transform 0.3s ease, opacity 0.3s ease;
      cursor: grab;
    }
    .swipe-card:active { cursor: grabbing; }
    .swipe-card.swiping-left { transform: translateX(-100px) rotate(-5deg); }
    .swipe-card.swiping-right { transform: translateX(100px) rotate(5deg); }
    .swipe-card.exit-left { transform: translateX(-500px) rotate(-30deg); opacity: 0; }
    .swipe-card.exit-right { transform: translateX(500px) rotate(30deg); opacity: 0; }
    .toast {
      animation: slideUp 0.3s ease;
    }
    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body class="min-h-screen">
  <div class="min-h-screen flex">
    <!-- Sidebar -->
    <aside class="w-64 border-r border-white/10 p-4 flex flex-col">
      <div class="flex items-center gap-3 px-2 mb-8">
        <div class="w-8 h-8 rounded-lg bg-emerald-500 flex items-center justify-center">
          <svg class="w-5 h-5 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l14 9-14 9V3z"/>
          </svg>
        </div>
        <span class="text-xl font-semibold tracking-tight">Neo OS</span>
      </div>

      <nav class="space-y-1 flex-1">
        <button class="w-full flex items-center gap-3 px-3 py-2 rounded-lg bg-white/10 text-white">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
          </svg>
          <span class="flex-1 text-left">Zen List</span>
          <span id="itemCount" class="text-xs px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-400">8</span>
        </button>
        <button class="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-white/60 hover:bg-white/5">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
          </svg>
          <span>Tasks</span>
        </button>
        <button class="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-white/60 hover:bg-white/5">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
          </svg>
          <span>Contacts</span>
        </button>
        <button class="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-white/60 hover:bg-white/5">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
          </svg>
          <span>Memory</span>
        </button>
      </nav>

      <!-- Neo Status -->
      <div class="mt-auto glass rounded-xl p-4 flex items-center gap-4">
        <div class="w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center neo-active">
          <span id="neoGlyph" class="text-emerald-400 text-xl font-mono">✻</span>
        </div>
        <div class="flex-1">
          <div class="flex items-center gap-2">
            <span class="text-white font-medium">Neo</span>
            <span class="text-xs px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-400">Active</span>
          </div>
          <p class="text-sm text-white/60 truncate">Monitoring your world</p>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col">
      <header class="border-b border-white/10 p-4 flex items-center justify-between">
        <div>
          <h1 class="text-2xl font-semibold">Zen List</h1>
          <p class="text-white/50 text-sm"><span id="pendingCount">8</span> items need your attention</p>
        </div>
        <div class="flex items-center gap-4">
          <div class="flex items-center gap-2 text-sm">
            <div class="flex items-center gap-1 text-green-400">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              <span id="approvedCount">14</span>
            </div>
            <span class="text-white/20">|</span>
            <div class="flex items-center gap-1 text-red-400">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
              <span id="dismissedCount">7</span>
            </div>
            <span class="text-white/40 text-xs">today</span>
          </div>
          <button onclick="showKeyboardHints()" class="p-2 rounded-lg hover:bg-white/5 text-white/40 hover:text-white/60">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h.01M12 11h.01M16 7h.01M8 11h.01M16 11h.01M8 15h8M4 7h16a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V9a2 2 0 012-2z"/>
            </svg>
          </button>
        </div>
      </header>

      <!-- Card Stack -->
      <div class="flex-1 flex items-center justify-center p-8 relative">
        <div id="cardStack" class="w-full max-w-lg relative h-[450px]">
          <!-- Cards will be inserted here -->
        </div>

        <!-- All Clear State -->
        <div id="allClear" class="hidden text-center">
          <div class="w-20 h-20 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-4">
            <svg class="w-10 h-10 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
          </div>
          <h2 class="text-2xl font-semibold mb-2">All clear!</h2>
          <p class="text-white/50">You've handled everything. Go build something.</p>
        </div>
      </div>

      <!-- Mobile Action Buttons -->
      <div id="actionButtons" class="p-4 flex justify-center gap-4 md:hidden">
        <button onclick="handleSwipe('left')" class="w-16 h-16 rounded-full bg-red-500/20 border border-red-500/50 flex items-center justify-center hover:bg-red-500/30">
          <svg class="w-8 h-8 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
        <button onclick="handleSwipe('right')" class="w-16 h-16 rounded-full bg-emerald-500/20 border border-emerald-500/50 flex items-center justify-center hover:bg-emerald-500/30">
          <svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
        </button>
      </div>
    </main>
  </div>

  <!-- Toast -->
  <div id="toast" class="hidden fixed bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-full flex items-center gap-2 toast"></div>

  <!-- Keyboard Hints Modal -->
  <div id="keyboardHints" class="hidden fixed top-20 right-4 glass rounded-xl p-4 z-50 min-w-[200px]">
    <h3 class="text-sm font-medium mb-3">Keyboard Shortcuts</h3>
    <div class="space-y-2 text-sm">
      <div class="flex justify-between text-white/60">
        <span>Approve</span>
        <span class="text-white/40">→ or L</span>
      </div>
      <div class="flex justify-between text-white/60">
        <span>Dismiss</span>
        <span class="text-white/40">← or H</span>
      </div>
      <div class="flex justify-between text-white/60">
        <span>Toggle hints</span>
        <span class="text-white/40">?</span>
      </div>
    </div>
  </div>

  <script>
    // Mock data
    const mockItems = [
      {
        id: '1',
        source: 'email',
        title: 'Re: Q1 Partnership Proposal',
        body: 'Michael Chen from TechVentures wants to schedule a call about the partnership we discussed at the conference. He mentioned potential investment opportunities.',
        sender: 'Michael Chen',
        priority: 2,
        proposedAction: 'Reply with availability for next week. I drafted a response.',
        time: '2h ago'
      },
      {
        id: '2',
        source: 'neo',
        title: 'Approve Sysco Invoice?',
        body: 'Invoice from Sysco for $2,340.00 for Real Provisions. Amount matches expected monthly order.',
        priority: 2,
        proposedAction: 'Approve payment - this is a recurring vendor with correct amount.',
        time: 'Just now'
      },
      {
        id: '3',
        source: 'slack',
        title: 'New PR needs review',
        body: 'Sarah pushed the authentication refactor. 847 lines changed across 12 files. Tests are passing.',
        sender: 'Sarah (Engineering)',
        priority: 3,
        proposedAction: 'Schedule 30 min code review block tomorrow morning.',
        time: '45m ago'
      },
      {
        id: '4',
        source: 'calendar',
        title: 'Reminder: Dentist appointment tomorrow',
        body: 'Dr. Williams at 10:00 AM. Address: 1234 Medical Center Dr. Expected duration: 1 hour.',
        priority: 3,
        proposedAction: "I've blocked your calendar and set a reminder for 9:15 AM.",
        time: 'Tomorrow'
      },
      {
        id: '5',
        source: 'task',
        title: 'Weekly report overdue',
        body: "The investor update email was due yesterday. I have a draft ready based on last week's metrics.",
        priority: 1,
        proposedAction: 'Send the draft I prepared, or let me know what to change.',
        time: 'Overdue'
      },
      {
        id: '6',
        source: 'email',
        title: 'Newsletter: AI Weekly Digest',
        body: "This week in AI: GPT-5 rumors, new open source models, and Apple's ML announcements.",
        sender: 'AI Weekly',
        priority: 5,
        proposedAction: "Archive - I'll summarize if you want to catch up later.",
        time: '6h ago'
      },
      {
        id: '7',
        source: 'neo',
        title: "Danni's birthday in 2 weeks",
        body: "Based on your calendar, Danni's birthday is coming up on February 12th. Last year you took her to that sushi place downtown.",
        priority: 3,
        proposedAction: 'Would you like me to research restaurant options and make a reservation?',
        time: 'Heads up'
      },
      {
        id: '8',
        source: 'slack',
        title: 'Team lunch poll results',
        body: 'The team voted: Thai food won with 8 votes. Italian came second. Friday at noon works for everyone.',
        sender: 'Team Social',
        priority: 4,
        proposedAction: 'Order from Siam Garden for Friday pickup? They have the best Pad Thai.',
        time: '3h ago'
      },
    ];

    const sourceIcons = {
      email: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>',
      slack: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>',
      task: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/></svg>',
      calendar: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>',
      neo: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/></svg>'
    };

    const sourceColors = {
      email: 'text-blue-400',
      slack: 'text-purple-400',
      task: 'text-orange-400',
      calendar: 'text-green-400',
      neo: 'text-emerald-400'
    };

    const priorityLabels = {
      1: { label: 'Critical', color: 'bg-red-500' },
      2: { label: 'High', color: 'bg-orange-500' },
      3: { label: 'Medium', color: 'bg-yellow-500' },
      4: { label: 'Low', color: 'bg-blue-500' },
      5: { label: 'FYI', color: 'bg-gray-500' }
    };

    let items = [...mockItems];
    let approved = 14;
    let dismissed = 7;

    // Neo glyph animation
    const glyphs = ['·', '✻', '✽', '✶', '✳', '✢'];
    let glyphIndex = 0;
    setInterval(() => {
      glyphIndex = (glyphIndex + 1) % glyphs.length;
      document.getElementById('neoGlyph').textContent = glyphs[glyphIndex];
    }, 200);

    function createCard(item, index) {
      const priority = priorityLabels[item.priority];
      const isTop = index === 0;
      
      return `
        <div class="swipe-card absolute w-full glass rounded-2xl p-6 shadow-2xl" 
             data-id="${item.id}"
             style="z-index: ${10 - index}; transform: scale(${1 - index * 0.02}) translateY(${index * 8}px);">
          <div class="flex items-start justify-between mb-4">
            <div class="flex items-center gap-3">
              <div class="p-2 rounded-lg bg-white/5 ${sourceColors[item.source]}">
                ${sourceIcons[item.source]}
              </div>
              <div>
                <span class="text-xs text-white/50 uppercase tracking-wider">${item.source}</span>
                ${item.sender ? `<p class="text-sm text-white/70">${item.sender}</p>` : ''}
              </div>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-xs text-white/40">${item.time}</span>
              <span class="text-xs px-2 py-1 rounded-full ${priority.color}">${priority.label}</span>
            </div>
          </div>
          <h3 class="text-xl font-semibold text-white mb-3">${item.title}</h3>
          <p class="text-white/60 text-sm leading-relaxed mb-4">${item.body}</p>
          ${item.proposedAction ? `
            <div class="bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-3">
              <p class="text-xs text-emerald-400 uppercase tracking-wider mb-1">Neo suggests</p>
              <p class="text-emerald-300 text-sm">${item.proposedAction}</p>
            </div>
          ` : ''}
          ${isTop ? `
            <div class="flex justify-center gap-8 mt-6 text-xs text-white/30">
              <span>← Swipe left to dismiss</span>
              <span>Swipe right to approve →</span>
            </div>
          ` : ''}
        </div>
      `;
    }

    function renderCards() {
      const stack = document.getElementById('cardStack');
      const allClear = document.getElementById('allClear');
      const actionButtons = document.getElementById('actionButtons');
      
      if (items.length === 0) {
        stack.classList.add('hidden');
        allClear.classList.remove('hidden');
        actionButtons.classList.add('hidden');
        return;
      }
      
      stack.classList.remove('hidden');
      allClear.classList.add('hidden');
      actionButtons.classList.remove('hidden');
      
      stack.innerHTML = items.slice(0, 3).reverse().map((item, i) => 
        createCard(item, 2 - i)
      ).join('');
      
      // Add swipe handling to top card
      const topCard = stack.querySelector('.swipe-card');
      if (topCard) setupSwipe(topCard);
      
      updateCounts();
    }

    function updateCounts() {
      document.getElementById('itemCount').textContent = items.length;
      document.getElementById('pendingCount').textContent = items.length;
      document.getElementById('approvedCount').textContent = approved;
      document.getElementById('dismissedCount').textContent = dismissed;
    }

    function showToast(type, title) {
      const toast = document.getElementById('toast');
      const isApprove = type === 'approve';
      toast.className = `fixed bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-full flex items-center gap-2 toast ${
        isApprove ? 'bg-emerald-500/20 border border-emerald-500/50 text-emerald-400' : 
                    'bg-red-500/20 border border-red-500/50 text-red-400'
      }`;
      toast.innerHTML = `
        ${isApprove ? 
          '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>' :
          '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>'
        }
        <span class="text-sm">${isApprove ? 'Approved' : 'Dismissed'}: ${title.slice(0, 30)}...</span>
      `;
      toast.classList.remove('hidden');
      setTimeout(() => toast.classList.add('hidden'), 3000);
    }

    function handleSwipe(direction) {
      if (items.length === 0) return;
      
      const topCard = document.querySelector('.swipe-card');
      const item = items[0];
      
      topCard.classList.add(direction === 'right' ? 'exit-right' : 'exit-left');
      
      setTimeout(() => {
        if (direction === 'right') {
          approved++;
          showToast('approve', item.title);
        } else {
          dismissed++;
          showToast('dismiss', item.title);
        }
        items.shift();
        renderCards();
      }, 300);
    }

    function setupSwipe(card) {
      let startX, startY, currentX, isDragging = false;
      
      card.addEventListener('mousedown', startDrag);
      card.addEventListener('touchstart', startDrag);
      
      function startDrag(e) {
        isDragging = true;
        startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
        startY = e.type === 'mousedown' ? e.clientY : e.touches[0].clientY;
        document.addEventListener('mousemove', drag);
        document.addEventListener('touchmove', drag);
        document.addEventListener('mouseup', endDrag);
        document.addEventListener('touchend', endDrag);
      }
      
      function drag(e) {
        if (!isDragging) return;
        currentX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
        const diff = currentX - startX;
        const rotation = diff * 0.05;
        card.style.transform = `translateX(${diff}px) rotate(${rotation}deg)`;
        
        if (diff > 50) {
          card.classList.add('swiping-right');
          card.classList.remove('swiping-left');
        } else if (diff < -50) {
          card.classList.add('swiping-left');
          card.classList.remove('swiping-right');
        } else {
          card.classList.remove('swiping-left', 'swiping-right');
        }
      }
      
      function endDrag() {
        isDragging = false;
        document.removeEventListener('mousemove', drag);
        document.removeEventListener('touchmove', drag);
        document.removeEventListener('mouseup', endDrag);
        document.removeEventListener('touchend', endDrag);
        
        const diff = currentX - startX;
        if (diff > 100) {
          handleSwipe('right');
        } else if (diff < -100) {
          handleSwipe('left');
        } else {
          card.style.transform = '';
          card.classList.remove('swiping-left', 'swiping-right');
        }
      }
    }

    function showKeyboardHints() {
      const hints = document.getElementById('keyboardHints');
      hints.classList.toggle('hidden');
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === 'l') handleSwipe('right');
      if (e.key === 'ArrowLeft' || e.key === 'h') handleSwipe('left');
      if (e.key === '?') showKeyboardHints();
    });

    // Init
    renderCards();
  </script>
</body>
</html>
